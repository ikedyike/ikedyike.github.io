<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
	<!-- <meta http-equiv="X-UA-Copmatible" content="ie=edge"> -->
	<title>Isaac Craig Portfolio</title>
	<link rel="stylesheet" href="style.css">
</head>

<body>
	<!-- <img src="img/cartoon_umbrella.png" alt="Umbrella" class="center"> -->
	<div class="container">
		<img src="img/cartoon_umbrella.png" alt="Portfolio Image" class="portfolio-image">
		
		<div id="title">
			<span>Isaac Craig</span>
			<span>Portfolio</span>
		</div>
	</div>
	
	<!-- OVERLAY CONTENT -->
	<!-- Button to toggle overlay -->
	<div class="menu-button-container">
		<div class="menu-button" onclick="toggleOverlay()">â˜°</div>
	</div>
	<!-- Overlay content -->
	<div class="overlay" id="overlay">
		<div class="overlay-content" id="aboutMeContent" style="display: none;">
            <Span onclick="showMainMenu()">ðŸ¢€</Span>
            <Span>About Me (Isaac Craig)</Span>
        </div>
		<div class="overlay-content" id="projectsContent" style="display: none;">
            <Span onclick="showMainMenu()">ðŸ¢€</Span>
            <Span onclick="dinoDropOverlay()">Dino Drop</Span>
			<Span onclick="cryptKeeperOverlay()">Cryptkeeper</Span>
			<Span onclick="websiteOverlay()">This Website</Span>
        </div>
		
		<!-- PROJECT OVERLAYS -->
		<div class="overlay-content" id="dinoDropContent" style="display: none;">
            <Span onclick="projectOverlay()">ðŸ¢€</Span>
            <Span>Dino Drop</Span>
			<Span.small>Dino Drop is a platformer game I have developed from the ground up.</Span.small>
        </div>
		<div class="overlay-content" id="cryptKeeperContent" style="display: none;">
            <Span onclick="projectOverlay()">ðŸ¢€</Span>
            <Span>Cryptkeeper</Span>
			<Span.small>You are the duck.</Span.small>
        </div>
		<div class="overlay-content" id="websiteContent" style="display: none;">
            <Span onclick="projectOverlay()">ðŸ¢€</Span>
            <Span>This Website</Span>
			<Span.small>This website was built from scratch using HTML, CSS and JS.</Span.small>
        </div>
		
		<div class="overlay-content" id="overlay-content">
			<span onclick="closeOverlay()">âœ–</span>
			<span onclick="projectOverlay()">Personal Projects</span>
			<span onclick="aboutOverlay()">About Me</span>
			<!-- Add more options as needed -->
		</div>
	</div>
	
	<div class="button-container">
        <div class="button" id="decreaseButton" onclick="decreaseRain()"></div>
        <div class="button" id="increaseButton" onclick="increaseRain()"></div>
    </div>
	
	<script>
		window.onresize = function(){ updateRain(); }
		
		let amount = 50;
		
		function rain(){
			let body = document.querySelector('body');
			let umbrella = document.querySelector('img[src="img/cartoon_umbrella.png"]');
			
			if (!umbrella) {
				console.error("Umbrella image not found.");
				return;
			}
			
			let umbrellaRect = umbrella.getBoundingClientRect();
			/* let umbrellaMiddle = (umbrellaRect.left + umbrellaRect.right) / 2; */
			
			let i = 0;
			while (i < amount) {
				let drop = document.createElement('i');
				
				let size = Math.random() * 3;
				let posX = Math.floor(Math.random() * window.innerWidth);
				let delay = Math.random() * -20;
				let duration = Math.random() * 5;
				
				if (posX >= umbrellaRect.left && posX <= umbrellaRect.right) {
					drop.style.animation = 'animateAboveUmbrella 5s linear infinite';
                } 
				
				drop.style.width = 0.2 + size+'px';
				drop.style.left = posX + 'px'
				drop.style.animationDelay = delay + 's';
				drop.style.animationDuration = 3 + duration + 's';
				drop.style.top = '0';
				
				/* if (posX >= umbrellaRect.left && posX <= umbrellaMiddle) {
					drop.style.top = -(window.innerHeight*1.2) + 'px';
					console.log(drop.style.top);
                } else if (posX >= umbrellaMiddle && posX <= umbrellaRect.right) {
					drop.style.top = -(window.innerHeight*1.15) + 'px';
				} else {
					drop.style.top = 0;
				} */
		
				body.appendChild(drop);
				i++
			}
		}
		
		function updateRain() {
			let existingDrops = document.querySelectorAll('i');
			existingDrops.forEach(drop => {
				document.body.removeChild(drop);
				console.log("Removed existing raindrop");
			});
			console.log(amount);
			rain();
		}
		
		function increaseRain() {
			if (amount < 100) {
				amount += 25; // Increase the amount of raindrops by 100
				updateRain();
			}
		}

		function decreaseRain() {
			if (amount > 25) { // Ensure there are at least 200 raindrops
				amount -= 25;
				updateRain();
			}
		}
				
		function toggleOverlay() {
			var overlay = document.getElementById('overlay');
			overlay.style.display = (overlay.style.display === 'none' || overlay.style.display === '') ? 'block' : 'none';
		}

		function aboutOverlay() {
			document.getElementById('overlay-content').style.display = 'none';
            document.getElementById('aboutMeContent').style.display = 'block';
		}
		
		function projectOverlay() {
			document.getElementById('overlay-content').style.display = 'none';
			document.getElementById('dinoDropContent').style.display = 'none';
			document.getElementById('cryptKeeperContent').style.display = 'none';
			document.getElementById('websiteContent').style.display = 'none';
            document.getElementById('projectsContent').style.display = 'block';
		}
		
		function dinoDropOverlay() {
			document.getElementById('overlay-content').style.display = 'none';
			document.getElementById('projectsContent').style.display = 'none';
			document.getElementById('dinoDropContent').style.display = 'block';
		}
		
		function cryptKeeperOverlay() {
			document.getElementById('overlay-content').style.display = 'none';
			document.getElementById('projectsContent').style.display = 'none';
			document.getElementById('cryptKeeperContent').style.display = 'block';
		}
		
		function websiteOverlay() {
			document.getElementById('overlay-content').style.display = 'none';
			document.getElementById('projectsContent').style.display = 'none';
			document.getElementById('websiteContent').style.display = 'block';
		}
		
		function showMainMenu() {
            document.getElementById('overlay-content').style.display = 'block';
			document.getElementById('dinoDropContent').style.display = 'none';
			document.getElementById('projectsContent').style.display = 'none';
            document.getElementById('aboutMeContent').style.display = 'none';
			document.getElementById('cryptKeeperContent').style.display = 'none';
			document.getElementById('websiteContent').style.display = 'none';
        }

		function closeOverlay() {
			document.getElementById('overlay').style.display = 'none';
		}
			
		rain();
	</script>
	
</body>

</html>